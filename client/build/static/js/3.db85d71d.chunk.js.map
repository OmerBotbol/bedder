{"version":3,"sources":["components/asset/UnavailableDates.js","components/asset/ProfileAsset.js"],"names":["UnavailableDates","asset","setHideDates","user","useState","unavailableDates","setUnavailableDates","error","setError","startedAt","setStartedAt","endedAt","setEndedAt","opacity","setOpacity","startDate","Date","endDate","key","selectionRange","SetSelectionRange","useEffect","axios","get","id","then","result","dates","data","map","date","catch","err","console","log","closeWindow","setTimeout","prev","className","style","editableDateInputs","moveRangeOnFirstSelection","onChange","i","selection","handleSelect","ranges","minDate","started_at","maxDate","ended_at","disabledDates","onClick","dataToSend","ownerId","asset_id","postHttp","newUnavailable","push","addUnavailableDates","ProfileAsset","hideDates","pictureUrl","setPictureUrl","picture","Exists","subject","src","alt","address","city","description","Hospitality","room_type","number_of_peoples","number_of_rooms","toLocaleDateString","ac","accessibility","animals","babies","parking","kosher","shabbat"],"mappings":"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","file":"static/js/3.db85d71d.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport 'react-date-range/dist/styles.css';\r\nimport 'react-date-range/dist/theme/default.css';\r\nimport { DateRange } from 'react-date-range';\r\nimport { postHttp } from '../../utils/httpRequests';\r\nimport axios from 'axios';\r\n\r\nfunction UnavailableDates({ asset, setHideDates, user }) {\r\n  const [unavailableDates, setUnavailableDates] = useState([]);\r\n  const [error, setError] = useState('');\r\n  const [startedAt, setStartedAt] = useState('');\r\n  const [endedAt, setEndedAt] = useState('');\r\n  const [opacity, setOpacity] = useState(1);\r\n  const [selectionRange, SetSelectionRange] = useState({\r\n    startDate: new Date(),\r\n    endDate: new Date(),\r\n    key: 'selection',\r\n  });\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`/api/asset/unavailableDates/${asset.id}`)\r\n      .then((result) => {\r\n        const dates = result.data.map((date) => new Date(date.date));\r\n        setUnavailableDates(dates);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [asset.id]);\r\n\r\n  const addUnavailableDates = () => {\r\n    if (!startedAt || !endedAt) {\r\n      setError('Fill all fields');\r\n    } else {\r\n      const dataToSend = {\r\n        ownerId: user.id,\r\n        asset_id: asset.id,\r\n        startedAt,\r\n        endedAt,\r\n      };\r\n\r\n      postHttp('/api/asset/addUnavailableDates', dataToSend)\r\n        .then((data) => {\r\n          const newUnavailable = [...unavailableDates];\r\n          newUnavailable.push(data.data);\r\n          setUnavailableDates(newUnavailable);\r\n        })\r\n        .catch((err) => console.log(err));\r\n      setError('');\r\n      closeWindow();\r\n    }\r\n  };\r\n\r\n  const closeWindow = () => {\r\n    setOpacity(0);\r\n    setTimeout(() => {\r\n      setHideDates((prev) => !prev);\r\n    }, 500);\r\n  };\r\n\r\n  const handleSelect = (i) => {\r\n    setStartedAt(i.selection.startDate);\r\n    setEndedAt(i.selection.endDate);\r\n    SetSelectionRange(i.selection);\r\n  };\r\n\r\n  return (\r\n    <div id=\"demo-modal\" className=\"modal\" style={{ opacity: opacity }}>\r\n      <div className=\"modal__content\">\r\n        <DateRange\r\n          editableDateInputs={true}\r\n          moveRangeOnFirstSelection={false}\r\n          onChange={(i) => handleSelect(i)}\r\n          ranges={[selectionRange]}\r\n          minDate={new Date(asset.started_at)}\r\n          maxDate={new Date(asset.ended_at)}\r\n          disabledDates={unavailableDates}\r\n        />\r\n        <button\r\n          className={`modal__send add-button`}\r\n          onClick={() => {\r\n            addUnavailableDates();\r\n          }}\r\n        >\r\n          +\r\n        </button>\r\n        <button onClick={() => closeWindow()} className=\"modal__close\">\r\n          X\r\n        </button>\r\n        {error && <p>{error}</p>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UnavailableDates;\r\n","import { useEffect, useState } from 'react';\r\nimport UnavailableDates from '../asset/UnavailableDates';\r\nimport axios from 'axios';\r\n\r\nexport default function ProfileAsset({ asset, user }) {\r\n  const [hideDates, setHideDates] = useState(true);\r\n  const [pictureUrl, setPictureUrl] = useState('');\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`/api/picture/image/${asset.picture}`)\r\n      .then((data) => {\r\n        setPictureUrl(data.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [asset.picture]);\r\n\r\n  const Exists = (subject) => {\r\n    const title = subject === 1 ? 'exists' : 'not-exists';\r\n    return title;\r\n  };\r\n\r\n  return (\r\n    <div className=\"asset-container\">\r\n      <div className=\"asset-top\">\r\n        <img className=\"asset-picture\" src={pictureUrl} alt=\"asset\" />\r\n        <div className=\"asset-address\">\r\n          {asset.address}, {asset.city}\r\n        </div>\r\n      </div>\r\n      <div className=\"asset-middle\">\r\n        <div className=\"asset-details-left\">\r\n          <div className=\"detail\">{asset.description}</div>\r\n          <div className=\"detail\">Hospitality: {asset.Hospitality}</div>\r\n          <div className=\"detail\">Room type: {asset.room_type}</div>\r\n          <div className=\"detail\">\r\n            Number of people: {asset.number_of_peoples}\r\n          </div>\r\n          <div className=\"detail\">Number of rooms: {asset.number_of_rooms}</div>\r\n          <div className=\"detail\">\r\n            {new Date(asset.started_at).toLocaleDateString()} -{' '}\r\n            {new Date(asset.ended_at).toLocaleDateString()}\r\n          </div>\r\n        </div>\r\n        <div className=\"asset-details-right\">\r\n          <div className=\"detail\">\r\n            <i\r\n              className={`fas fa-fan\r\n              ${Exists(asset.ac)} `}\r\n            />{' '}\r\n            AC\r\n          </div>\r\n          <div className=\"detail\">\r\n            <i className={`fa fa-wheelchair ${Exists(asset.accessibility)} `} />{' '}\r\n            accessibility\r\n          </div>\r\n          <div className=\"detail\">\r\n            <i className={`fa fa-paw ${Exists(asset.animals)} `} /> Animals\r\n          </div>\r\n          <div className=\"detail\">\r\n            <i className={`fa fa-baby-carriage ${Exists(asset.babies)} `} />{' '}\r\n            Babies\r\n          </div>\r\n          <div className=\"detail\">\r\n            <i className={`fa fa-parking ${Exists(asset.parking)} `} /> Parking\r\n          </div>\r\n          <div className={`${Exists(asset.kosher)} detail`}>Kosher</div>\r\n          <div className={`${Exists(asset.shabbat)} detail`}>Shabbat</div>\r\n        </div>\r\n      </div>\r\n      <button\r\n        className=\"add-unavailable-dates-button\"\r\n        onClick={() => {\r\n          setHideDates((prev) => !prev);\r\n        }}\r\n      >\r\n        Add unavailable dates\r\n      </button>\r\n\r\n      {!hideDates && (\r\n        <UnavailableDates\r\n          user={user}\r\n          asset={asset}\r\n          setHideDates={setHideDates}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}
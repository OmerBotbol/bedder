(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[4],{150:function(e,t,a){"use strict";a.r(t);var n=a(34),s=a(2),c=a(7),i=a.n(c),r=a(1),d=a(13),l=a(0);t.default=function(e){var t=e.offer,a=e.setNeedToBook,c=e.needToBook,o=Object(r.useState)({}),b=Object(s.a)(o,2),j=b[0],u=b[1],h=Object(r.useState)({}),f=Object(s.a)(h,2),m=f[0],O=f[1];Object(r.useEffect)((function(){Promise.all([i.a.get("/api/renter/".concat(t.renter_id)),i.a.get("/api/asset/".concat(t.asset_id))]).then((function(e){u(e[0].data),O(e[1].data)})).catch((function(e){return console.log(e)}))}),[t]);var p=function(){var e=Object(n.a)(c),s=e.findIndex((function(e){return e.id===t.id}));e.splice(s,1),a(e)};return Object(l.jsxs)("div",{className:"transaction",children:[Object(l.jsxs)("div",{className:"transaction-details",children:["asset: ",m.address,", ",m.city]}),Object(l.jsxs)("div",{className:"transaction-details",children:["start Date: ",new Date(t.started_at).toLocaleDateString()]}),Object(l.jsxs)("div",{className:"transaction-details",children:["end Date: ",new Date(t.ended_at).toLocaleDateString()]}),Object(l.jsx)("div",{className:"renter-details-header",children:"Renter Details:"}),Object(l.jsxs)("div",{className:"renter-details",children:[j.first_name," ",j.last_name]}),Object(l.jsx)("div",{className:"renter-details",children:j.email}),Object(l.jsx)("div",{className:"renter-details",children:Object(l.jsxs)("a",{href:"https://wa.me/".concat(j.phone_number),className:"whatsapp-icon",children:[Object(l.jsx)("i",{className:"fab fa-whatsapp"})," ",j.phone_number]})}),Object(l.jsxs)("div",{className:"transaction-btn-container",children:[Object(l.jsx)("button",{className:"transaction-btn",onClick:function(){return function(){var e={value:!0,field:"booked",id:t.id},a={ownerId:t.owner_id,asset_id:t.asset_id,startedAt:t.started_at,endedAt:t.ended_at};Promise.all([Object(d.d)("/api/transaction",e),Object(d.c)("/api/asset/addUnavailableDates",a)]).then((function(){p()})).catch((function(e){if("409"===e.message.slice(-3))return alert("those are unavailable dates already");console.log(e)}))}()},children:"Book!"}),Object(l.jsx)("button",{className:"transaction-btn cancel-btn",onClick:function(){return function(){var e={ownerId:t.owner_id,asset_id:t.asset_id,startedAt:t.started_at,endedAt:t.ended_at};Promise.all([Object(d.a)("/api/transaction",{id:t.id}),Object(d.a)("/api/asset/deleteUnavailableDates",e)]).then((function(){p()})).catch((function(e){return console.log(e)}))}()},children:"Cancel"})]})]})}}}]);
//# sourceMappingURL=4.c3a944c1.chunk.js.map
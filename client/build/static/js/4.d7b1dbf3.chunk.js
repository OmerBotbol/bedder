(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[4],{150:function(e,t,a){"use strict";a.r(t);var n=a(34),s=a(2),c=a(7),i=a.n(c),d=a(1),r=a(13),l=a(0);t.default=function(e){var t=e.offer,a=e.setNeedToBook,c=e.needToBook,o=Object(d.useState)({}),b=Object(s.a)(o,2),u=b[0],j=b[1],f=Object(d.useState)({}),h=Object(s.a)(f,2),O=h[0],m=h[1];Object(d.useEffect)((function(){Promise.all([i.a.get("/api/renter/".concat(t.renter_id)),i.a.get("/api/asset/".concat(t.asset_id))]).then((function(e){j(e[0].data),m(e[1].data)})).catch((function(e){return console.log(e)}))}),[t]);var v=function(){var e=Object(n.a)(c),s=e.findIndex((function(e){return e.id===t.id}));e.splice(s,1),a(e)};return Object(l.jsxs)("div",{className:"transaction",children:[Object(l.jsxs)("div",{className:"transaction-details",children:["asset: ",O.address,", ",O.city]}),Object(l.jsxs)("div",{className:"transaction-details",children:["start Date: ",t.started_at.slice(0,10)]}),Object(l.jsxs)("div",{className:"transaction-details",children:["end Date: ",t.ended_at.slice(0,10)]}),Object(l.jsx)("div",{className:"renter-details-header",children:"Renter Details:"}),Object(l.jsxs)("div",{className:"renter-details",children:[u.first_name," ",u.last_name]}),Object(l.jsx)("div",{className:"renter-details",children:u.email}),Object(l.jsx)("div",{className:"renter-details",children:u.phone_number}),Object(l.jsxs)("div",{className:"transaction-btn-container",children:[Object(l.jsx)("button",{className:"transaction-btn",onClick:function(){return function(){var e={value:!0,field:"booked",id:t.id},a={ownerId:t.owner_id,asset_id:t.asset_id,startedAt:t.started_at,endedAt:t.ended_at};Promise.all([Object(r.d)("/api/transaction",e),Object(r.c)("/api/asset/addUnavailableDates",a)]).then((function(){v()})).catch((function(e){if("409"===e.message.slice(-3))return alert("those are unavailable dates already");console.log(e)}))}()},children:"Book!"}),Object(l.jsx)("button",{className:"transaction-btn cancel-btn",onClick:function(){return function(){var e={ownerId:t.owner_id,asset_id:t.asset_id,startedAt:t.started_at,endedAt:t.ended_at};Promise.all([Object(r.a)("/api/transaction",{id:t.id}),Object(r.a)("/api/asset/deleteUnavailableDates",e)]).then((function(){v()})).catch((function(e){return console.log(e)}))}()},children:"Cancel"})]})]})}}}]);
//# sourceMappingURL=4.d7b1dbf3.chunk.js.map
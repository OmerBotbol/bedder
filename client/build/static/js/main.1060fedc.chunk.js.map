{"version":3,"sources":["utils/cookies.js","utils/httpRequests.js","components/asset/AddAsset.js","components/owner/OwnerHomePage.js","components/asset/SendRequest.js","components/Map.js","components/asset/AssetCard.js","components/asset/ShowAsset.js","components/Search.js","components/renter/RenterHomePage.js","components/PopUp.js","components/HomePage.js","components/Login.js","components/Register.js","components/NotFound.js","components/renter/RenterRegister.js","components/owner/OwnerRegister.js","components/Profile.js","components/NavBar.js","components/OrderDisplay.js","components/MyOrders.js","App.js","utils/networkWrapper.js","reportWebVitals.js","index.js"],"names":["createCookie","name","value","milliseconds","expires","date","Date","setTime","getTime","toGMTString","document","cookie","encodeURIComponent","readCookie","nameEQ","ca","split","i","length","c","charAt","substring","indexOf","decodeURIComponent","eraseCookie","getHttp","url","tokenName","axios","get","headers","authorization","postHttp","data","post","putHttp","put","deleteHttp","delete","Authorization","AddAsset","user","useState","city","setCity","address","setAddress","description","setDescription","numberOfPeople","setNumberOfPeople","numberOfRooms","setNumberOfRooms","kosher","setKosher","shabbat","setShabbat","parking","setParking","animals","setAnimals","AC","setAC","accessibility","setAccessibility","babies","setBabies","picture","setPicture","startedAt","setStartedAt","endedAt","setEndedAt","roomType","setRoomType","hospitality","setHospitality","message","setMessage","redirect","setRedirect","startDate","endDate","key","selectionRange","SetSelectionRange","handleClick","a","imageInForm","FormData","append","imageKey","stringifyAddress","assetFormatted","process","addressLocationData","assetLocation","results","geometry","location","dataToSend","owner_id","id","lat","lng","room_type","Hospitality","number_of_peoples","number_of_rooms","shabat","ac","started_at","ended_at","then","catch","addressArr","addressNumber","parseInt","splice","streetName","join","isOwner","className","type","onChange","e","target","disabled","selected","min","accept","files","editableDateInputs","moveRangeOnFirstSelection","selection","handleSelect","ranges","minDate","onClick","to","ProfileAsset","lazy","OwnerTransactions","NeedToBook","OwnerHomePage","addAsset","setAddAsset","assets","setAssets","transactions","setTransactions","needToBook","setNeedToBook","useEffect","Promise","all","findTrans","reduce","filtered","option","owner_approvement","booked","push","findNeed","err","console","log","map","asset","fallback","transaction","offer","SendRequest","setOpenSendRequest","comments","setComments","newsStartedAt","setNewStartedAt","newEndedAt","setNewEndedAt","unavailableDates","setUnavailableDates","opacity","setOpacity","result","dates","closeWindow","setTimeout","style","maxDate","disabledDates","placeholder","asset_id","renter_id","AssetPin","CurrentPin","GOOGLE_API_KEY","Map","currentLocation","setCurrentLocation","setDistance","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","distanceData","routes","legs","distance","text","error","getMapData","bootstrapURLKeys","defaultCenter","defaultZoom","AssetCard","setOpenAssetCard","pictureUrl","setPictureUrl","setAssetLocation","Exists","subject","src","alt","prev","ShowAsset","openSendRequest","openAssetCard","Search","searchInput","setSearchInput","setError","setFilteredAssets","showCalendar","setShowCalendar","count","setCount","event","toLocaleString","slice","searchUrl","res","searchByCity","RenterHomePage","filteredAssets","openFilters","setOpenFilters","setPosition","filterBy","setFilterBy","showPosition","alert","constLocError","AnyReactComponent","permissions","query","state","address_components","long_name","gridTemplateRows","maxHeight","visibility","defaultChecked","copyArr","changeValue","htmlFor","filters","toLowerCase","filteredArr","isValid","forEach","filter","filterOptions","PopUp","openPopup","HomePage","loading","setLoading","popup","color","size","Login","setUser","postion","email","setEmail","password","setPassword","userDetails","setUserDetails","setIsOwner","chooseCustomerType","setChooseCustomerType","customerTypeWindow","setCustomerTypeWindow","login","findUser","userData","accessToken","refreshToken","userToSave","required","variant","userToSet","handleNext","Register","setType","temp","setTemp","NotFound","RenterRegister","firstName","setFirstName","lastName","setLastName","confirmPassword","setConfirmPassword","confirmPasswordStatus","setConfirmPasswordStatus","purpose","setPurpose","image","setImage","phoneNumber","setPhoneNumber","first_name","last_name","phone_number","aria-hidden","confirmPasswordValue","rows","cols","OwnerRegister","Profile","route","userPicture","fetchData","NavBar","OrderDisplay","order","orders","setOrders","assetDetails","setAssetDetails","toLocaleDateString","status","href","ownerId","ordersCopy","index","findIndex","deleteOrder","MyOrders","searchBy","findOrders","sortByStatus","arr","sortOrder","pending","open","sort","b","App","interceptors","response","use","config","request","reject","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1060fedc.chunk.js","sourcesContent":["function createCookie(name, value, milliseconds) {\r\n  let expires;\r\n\r\n  if (milliseconds) {\r\n    let date = new Date();\r\n    date.setTime(date.getTime() + milliseconds);\r\n    expires = \"; expires=\" + date.toGMTString();\r\n  } else {\r\n    expires = \"\";\r\n  }\r\n  document.cookie =\r\n    encodeURIComponent(name) +\r\n    \"=\" +\r\n    encodeURIComponent(value) +\r\n    expires +\r\n    \"; path=/\";\r\n}\r\n\r\nfunction readCookie(name) {\r\n  let nameEQ = encodeURIComponent(name) + \"=\";\r\n  let ca = document.cookie.split(\";\");\r\n  for (let i = 0; i < ca.length; i++) {\r\n    let c = ca[i];\r\n    while (c.charAt(0) === \" \") c = c.substring(1, c.length);\r\n    if (c.indexOf(nameEQ) === 0)\r\n      return decodeURIComponent(c.substring(nameEQ.length, c.length));\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction eraseCookie(name) {\r\n  createCookie(name, \"\", -1);\r\n}\r\n\r\nexport { eraseCookie, readCookie, createCookie };\r\n","import axios from 'axios';\r\nimport { readCookie } from './cookies';\r\n\r\nconst getHttp = (url, tokenName) => {\r\n  return axios.get(url, {\r\n    headers: {\r\n      authorization: 'Bearer ' + readCookie(tokenName),\r\n    },\r\n  });\r\n};\r\nconst postHttp = (url, data) => {\r\n  return axios.post(url, data, {\r\n    headers: {\r\n      authorization: 'Bearer ' + readCookie('accessToken'),\r\n    },\r\n  });\r\n};\r\nconst putHttp = (url, data) => {\r\n  return axios.put(url, data, {\r\n    headers: {\r\n      authorization: 'Bearer ' + readCookie('accessToken'),\r\n    },\r\n  });\r\n};\r\nconst deleteHttp = (url, data) => {\r\n  return axios.delete(url, {\r\n    headers: {\r\n      Authorization: 'Bearer ' + readCookie('accessToken'),\r\n    },\r\n    data: data,\r\n  });\r\n};\r\n\r\nexport { getHttp, postHttp, putHttp, deleteHttp };\r\n","import { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport 'react-date-range/dist/styles.css';\r\nimport 'react-date-range/dist/theme/default.css';\r\nimport { DateRange } from 'react-date-range';\r\nimport { deleteHttp, postHttp } from '../../utils/httpRequests';\r\nimport axios from 'axios';\r\nimport '../../styles/addAsset.css';\r\n\r\nconst GOOGLE_API_KEY = process.env.REACT_APP_GOOGLE_API_KEY;\r\n\r\nexport default function AddAsset({ user }) {\r\n  const [city, setCity] = useState('');\r\n  const [address, setAddress] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [numberOfPeople, setNumberOfPeople] = useState(0);\r\n  const [numberOfRooms, setNumberOfRooms] = useState(0);\r\n  const [kosher, setKosher] = useState(false);\r\n  const [shabbat, setShabbat] = useState(false);\r\n  const [parking, setParking] = useState(false);\r\n  const [animals, setAnimals] = useState(false);\r\n  const [AC, setAC] = useState(false);\r\n  const [accessibility, setAccessibility] = useState(false);\r\n  const [babies, setBabies] = useState(false);\r\n  const [picture, setPicture] = useState('');\r\n  const [startedAt, setStartedAt] = useState('');\r\n  const [endedAt, setEndedAt] = useState('');\r\n  const [roomType, setRoomType] = useState('');\r\n  const [hospitality, setHospitality] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [selectionRange, SetSelectionRange] = useState({\r\n    startDate: new Date(),\r\n    endDate: new Date(),\r\n    key: 'selection',\r\n  });\r\n\r\n  const handleClick = async () => {\r\n    if (user) {\r\n      if (\r\n        !city ||\r\n        !address ||\r\n        !description ||\r\n        !numberOfPeople ||\r\n        !numberOfRooms ||\r\n        !startedAt ||\r\n        !endedAt ||\r\n        !picture ||\r\n        !hospitality ||\r\n        !roomType\r\n      ) {\r\n        setMessage('Please fill all the fields');\r\n      } else {\r\n        //Upload picture to S3\r\n        const imageInForm = new FormData();\r\n        imageInForm.append('file', picture);\r\n        const imageKey = await postHttp('/api/picture/upload', imageInForm);\r\n        const stringifyAddress = assetFormatted(address, city);\r\n        const addressLocationData = await axios.get(\r\n          `https://maps.googleapis.com/maps/api/geocode/json?address=${stringifyAddress},israel&key=${GOOGLE_API_KEY}`\r\n        );\r\n        const assetLocation =\r\n          addressLocationData.data.results[0].geometry.location;\r\n        const dataToSend = {\r\n          owner_id: user.id,\r\n          city,\r\n          address,\r\n          lat: assetLocation.lat,\r\n          lng: assetLocation.lng,\r\n          room_type: roomType,\r\n          Hospitality: hospitality,\r\n          description,\r\n          number_of_peoples: numberOfPeople,\r\n          number_of_rooms: numberOfRooms,\r\n          kosher,\r\n          shabat: shabbat,\r\n          parking,\r\n          animals,\r\n          picture: imageKey.data,\r\n          ac: AC,\r\n          accessibility,\r\n          babies,\r\n          started_at: startedAt,\r\n          ended_at: endedAt,\r\n        };\r\n\r\n        //Create asset\r\n        postHttp('/api/asset/create', dataToSend)\r\n          .then(() => {\r\n            setRedirect(true);\r\n          })\r\n          .catch(async () => {\r\n            await deleteHttp(`/api/picture/image/${user.id}/${imageKey.data}`);\r\n            setMessage('Problem, please try again later');\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  const assetFormatted = (address, city) => {\r\n    const addressArr = address.split(' ');\r\n    let addressNumber = '';\r\n    if (typeof parseInt(addressArr[-1]) === 'number') {\r\n      addressNumber = addressArr[-1];\r\n      addressArr.splice(-2, 1);\r\n    }\r\n    const streetName = addressArr.join('+');\r\n    const returnedString = addressNumber\r\n      ? addressNumber + ',' + streetName + ',' + city\r\n      : streetName + ',' + city;\r\n    return returnedString;\r\n  };\r\n\r\n  const handleSelect = (i) => {\r\n    setStartedAt(i.selection.startDate);\r\n    setEndedAt(i.selection.endDate);\r\n    SetSelectionRange(i.selection);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {user.isOwner ? (\r\n        <div id=\"add-asset-container\">\r\n          <h1 id=\"add-asset-header\">Add asset</h1>\r\n          <div className=\"add-asset-form\">\r\n            <div className=\"form-field\">\r\n              <label className=\"add-asset-label\">City</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"add-asset-text\"\r\n                onChange={(e) => setCity(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"add-asset-label\">Address</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"add-asset-text\"\r\n                onChange={(e) => setAddress(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"add-asset-label\">Description</label>\r\n              <input\r\n                className=\"add-asset-text\"\r\n                type=\"text\"\r\n                onChange={(e) => setDescription(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"add-asset-label\">Room Type</label>\r\n              <select\r\n                className=\"add-asset-text\"\r\n                onChange={(e) => setRoomType(e.target.value)}\r\n              >\r\n                <option value=\"\" disabled selected>\r\n                  Select your option\r\n                </option>\r\n                <option value=\"Apartment\">Apartment</option>\r\n                <option value=\"Couch\">Couch</option>\r\n                <option value=\"Separate room\">Separate room</option>\r\n                <option value=\"Shared room\">Shared room</option>\r\n                <option value=\"Tent\">Tent</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"add-asset-label\">Hospitality</label>\r\n              <select\r\n                className=\"add-asset-text\"\r\n                onChange={(e) => setHospitality(e.target.value)}\r\n              >\r\n                <option value=\"\" disabled selected>\r\n                  Select your option\r\n                </option>\r\n                <option value=\"Full\">Full</option>\r\n                <option value=\"Only sleep\">Only sleep</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"form-field\">\r\n              <label className=\"add-asset-label\">Number of people</label>\r\n              <input\r\n                className=\"add-asset-text\"\r\n                type=\"number\"\r\n                min=\"1\"\r\n                onChange={(e) => setNumberOfPeople(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"add-asset-label\">Number of rooms</label>\r\n              <input\r\n                className=\"add-asset-text\"\r\n                type=\"number\"\r\n                min=\"1\"\r\n                onChange={(e) => setNumberOfRooms(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"add-asset-label\">Picture</label>\r\n              <input\r\n                className=\"add-asset-text\"\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={(e) => setPicture(e.target.files[0])}\r\n              />\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"add-asset-label\">Kosher</label>\r\n              <input\r\n                className=\"option-input radio\"\r\n                type=\"checkbox\"\r\n                onChange={() => setKosher(!kosher)}\r\n              />\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"add-asset-label\">Shabbat</label>\r\n              <input\r\n                type=\"checkbox\"\r\n                className=\"option-input radio\"\r\n                onChange={() => setShabbat(!shabbat)}\r\n              />\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"add-asset-label\">Parking</label>\r\n              <input\r\n                type=\"checkbox\"\r\n                className=\"option-input radio\"\r\n                onChange={() => setParking(!parking)}\r\n              />\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"add-asset-label\">Animals</label>\r\n              <input\r\n                type=\"checkbox\"\r\n                className=\"option-input radio\"\r\n                onChange={() => setAnimals(!animals)}\r\n              />\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"add-asset-label\">AC</label>\r\n              <input\r\n                type=\"checkbox\"\r\n                className=\"option-input radio\"\r\n                onChange={() => setAC(!AC)}\r\n              />\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"add-asset-label\">Accessibility</label>\r\n              <input\r\n                className=\"option-input radio\"\r\n                type=\"checkbox\"\r\n                onChange={(e) => setAccessibility(!accessibility)}\r\n              />\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"add-asset-label\">Babies</label>\r\n              <input\r\n                type=\"checkbox\"\r\n                className=\"option-input radio\"\r\n                onChange={() => setBabies(!babies)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"add-asset-dates\">\r\n              <label className=\"add-asset-label\">Available dates: </label>\r\n              <DateRange\r\n                editableDateInputs={true}\r\n                moveRangeOnFirstSelection={false}\r\n                onChange={(i) => handleSelect(i)}\r\n                ranges={[selectionRange]}\r\n                minDate={new Date()}\r\n              />\r\n            </div>\r\n            <div className=\"button-container\">\r\n              <button\r\n                className=\"add-asset-btn\"\r\n                onClick={() => {\r\n                  handleClick();\r\n                }}\r\n              >\r\n                Add\r\n              </button>\r\n            </div>\r\n          </div>\r\n          {message && <p className=\"error\">{message}</p>}\r\n          {redirect && <Redirect to=\"/login\" />}\r\n        </div>\r\n      ) : (\r\n        <Redirect to=\"/\" />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React, { lazy, Suspense, useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Redirect } from 'react-router-dom';\r\nimport '../../styles/ownerHomepage.css';\r\nconst ProfileAsset = lazy(() => import('../asset/ProfileAsset'));\r\nconst OwnerTransactions = lazy(() => import('./OwnerTransactions'));\r\nconst NeedToBook = lazy(() => import('./NeedToBook'));\r\n\r\nfunction OwnerHomePage({ user }) {\r\n  const [addAsset, setAddAsset] = useState(false);\r\n  const [assets, setAssets] = useState([]);\r\n  const [transactions, setTransactions] = useState([]);\r\n  const [needToBook, setNeedToBook] = useState([]);\r\n\r\n  useEffect(() => {\r\n    Promise.all([\r\n      axios.get(`/api/asset?owner_id=${user.id}`),\r\n      axios.get(`/api/transaction/user/all?searchBy=owner_id&value=${user.id}`),\r\n    ])\r\n      .then((data) => {\r\n        setAssets(data[0].data);\r\n\r\n        const findTrans = data[1].data.reduce((filtered, option) => {\r\n          if (!option.owner_approvement && !option.booked) {\r\n            filtered.push(option);\r\n          }\r\n          return filtered;\r\n        }, []);\r\n        const findNeed = data[1].data.reduce((filtered, option) => {\r\n          if (option.owner_approvement && !option.booked) {\r\n            filtered.push(option);\r\n          }\r\n          return filtered;\r\n        }, []);\r\n        if (transactions.length !== findTrans.length) {\r\n          setTransactions(findTrans);\r\n        }\r\n        setNeedToBook(findNeed);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, [user.id, transactions]);\r\n\r\n  return (\r\n    <div id=\"owner-homepage\">\r\n      <div id=\"assets-container\">\r\n        <div className=\"headlines-asset\">\r\n          <h2 id=\"owner-assets\">Assets</h2>\r\n          <div className=\"add-asset-button-container\">\r\n            <button\r\n              className=\"add-asset-button\"\r\n              onClick={() => setAddAsset(true)}\r\n            >\r\n              Add asset\r\n            </button>\r\n            {addAsset && <Redirect to=\"/addAsset\" />}\r\n          </div>\r\n        </div>\r\n        <div id=\"assets\">\r\n          {assets.map((asset, i) => (\r\n            <Suspense key={i} fallback={<div>Loading...</div>}>\r\n              <ProfileAsset asset={asset} user={user} />\r\n            </Suspense>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div id=\"all-requests\">\r\n        <div id=\"owner-requests\">\r\n          <h2>\r\n            My Likes{' '}\r\n            <span className=\"number-orders\">({transactions.length})</span>\r\n          </h2>\r\n          <ol id=\"transaction-list\">\r\n            {transactions.map((transaction, i) => (\r\n              <Suspense key={i} fallback={<div>Loading...</div>}>\r\n                <OwnerTransactions\r\n                  transaction={transaction}\r\n                  transactions={transactions}\r\n                  setTransactions={setTransactions}\r\n                />\r\n              </Suspense>\r\n            ))}\r\n          </ol>\r\n        </div>\r\n        <div id=\"owner-pending-orders\">\r\n          <h2>\r\n            Need To Book\r\n            <span className=\"number-orders\"> ({needToBook.length})</span>\r\n          </h2>\r\n          <div id=\"owner-pending-orders-list\">\r\n            {needToBook.map((offer, i) => (\r\n              <Suspense key={i} fallback={<div>Loading...</div>}>\r\n                <NeedToBook\r\n                  needToBook={needToBook}\r\n                  offer={offer}\r\n                  setNeedToBook={setNeedToBook}\r\n                />\r\n              </Suspense>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OwnerHomePage;\r\n","import axios from 'axios';\r\nimport React, { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport 'react-date-range/dist/styles.css';\r\nimport 'react-date-range/dist/theme/default.css';\r\nimport { DateRange } from 'react-date-range';\r\nimport { postHttp } from '../../utils/httpRequests';\r\nimport '../../styles/assetCard.css';\r\n\r\nfunction SendRequest({ user, asset, setOpenSendRequest, startedAt, endedAt }) {\r\n  const [comments, setComments] = useState('');\r\n  const [newsStartedAt, setNewStartedAt] = useState(new Date(startedAt));\r\n  const [newEndedAt, setNewEndedAt] = useState(new Date(endedAt));\r\n  const [unavailableDates, setUnavailableDates] = useState([]);\r\n  const [opacity, setOpacity] = useState(1);\r\n  const [selectionRange, SetSelectionRange] = useState({\r\n    startDate: new Date(startedAt),\r\n    endDate: new Date(endedAt),\r\n    key: 'selection',\r\n  });\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`/api/asset/unavailableDates/${asset.id}`)\r\n      .then((result) => {\r\n        const dates = result.data.map((date) => new Date(date.date));\r\n        setUnavailableDates(dates);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [asset.id]);\r\n\r\n  //Add the request renter wants to send the asset owner\r\n  const handleClick = () => {\r\n    const dataToSend = {\r\n      asset_id: asset.id,\r\n      owner_id: asset.owner_id,\r\n      renter_id: user.id,\r\n      started_at: newsStartedAt,\r\n      ended_at: newEndedAt,\r\n      comments,\r\n    };\r\n    postHttp('/api/transaction/new', dataToSend)\r\n      .then(() => {\r\n        closeWindow();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const handleSelect = (i) => {\r\n    setNewStartedAt(i.selection.startDate);\r\n    setNewEndedAt(i.selection.endDate);\r\n    SetSelectionRange(i.selection);\r\n  };\r\n\r\n  const closeWindow = () => {\r\n    setOpacity(0);\r\n    setTimeout(() => {\r\n      setOpenSendRequest(false);\r\n    }, 500);\r\n  };\r\n\r\n  return (\r\n    <div className=\"request-background\" style={{ opacity: opacity }}>\r\n      <div className=\"request-window\">\r\n        <button className=\"close-btn\" onClick={() => closeWindow()}>\r\n          X\r\n        </button>\r\n        <div className=\"request-content\">\r\n          <h3>Let's make sure we on the same page</h3>\r\n          <div>The dates are: </div>\r\n          <DateRange\r\n            editableDateInputs={true}\r\n            moveRangeOnFirstSelection={false}\r\n            onChange={(i) => handleSelect(i)}\r\n            ranges={[selectionRange]}\r\n            minDate={new Date(asset.started_at)}\r\n            maxDate={new Date(asset.ended_at)}\r\n            disabledDates={unavailableDates}\r\n          />\r\n          <div className=\"request-input-container\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Anything we need to know...\"\r\n              className=\"request-input-text\"\r\n              onChange={(e) => setComments(e.target.value)}\r\n            />\r\n            <button className=\"request-send-btn\" onClick={() => handleClick()}>\r\n              send\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SendRequest;\r\n","import React, { useEffect } from 'react';\r\nimport GoogleMapReact from 'google-map-react';\r\nimport axios from 'axios';\r\n\r\nconst AssetPin = ({ address, city }) => (\r\n  <div className=\"asset-pin-container\">\r\n    <div className=\"asset-pin-name\">\r\n      {address}, {city}\r\n    </div>\r\n    <div className=\"asset-pin\"></div>\r\n    <div className=\"asset-pin-pulse\"></div>\r\n  </div>\r\n);\r\n\r\nconst CurrentPin = () => (\r\n  <div>\r\n    <div className=\"current-pin-container\"></div>\r\n    <div className=\"current-pin\"></div>\r\n  </div>\r\n);\r\n\r\nconst GOOGLE_API_KEY = process.env.REACT_APP_GOOGLE_API_KEY;\r\n\r\nfunction Map({ asset, currentLocation, setCurrentLocation, setDistance }) {\r\n  useEffect(() => {\r\n    async function getMapData() {\r\n      if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(\r\n          async (position) => {\r\n            setCurrentLocation({\r\n              lat: position.coords.latitude,\r\n              lng: position.coords.longitude,\r\n            });\r\n            try {\r\n              console.log(GOOGLE_API_KEY);\r\n              const distanceData = await axios.get(\r\n                `https://maps.googleapis.com/maps/api/directions/json?origin=${asset.lat},${asset.lng}&destination=${position.coords.latitude},${position.coords.longitude}&key=${GOOGLE_API_KEY}&language=en`\r\n              );\r\n              console.log(distanceData);\r\n              setDistance(distanceData.data.routes[0].legs[0].distance.text);\r\n            } catch (err) {\r\n              console.log(err);\r\n            }\r\n          },\r\n          (error) => {\r\n            console.log(error);\r\n          }\r\n        );\r\n      }\r\n    }\r\n    getMapData();\r\n  }, [asset, setCurrentLocation, setDistance]);\r\n\r\n  return (\r\n    <div className=\"map-container\">\r\n      {currentLocation && (\r\n        <GoogleMapReact\r\n          bootstrapURLKeys={{ key: GOOGLE_API_KEY }}\r\n          defaultCenter={{ lat: asset.lat, lng: asset.lng }}\r\n          defaultZoom={15}\r\n        >\r\n          <AssetPin\r\n            lat={asset.lat}\r\n            lng={asset.lng}\r\n            address={asset.address}\r\n            city={asset.city}\r\n          />\r\n          <CurrentPin lat={currentLocation.lat} lng={currentLocation.lng} />\r\n        </GoogleMapReact>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Map;\r\n","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport Map from '../Map';\r\n\r\nfunction AssetCard({ asset, setOpenAssetCard }) {\r\n  const [pictureUrl, setPictureUrl] = useState('');\r\n  const [opacity, setOpacity] = useState(1);\r\n  const [assetLocation, setAssetLocation] = useState({ lat: null, lng: null });\r\n  const [currentLocation, setCurrentLocation] = useState('');\r\n  const [distance, setDistance] = useState('');\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`/api/picture/image/${asset.picture}`)\r\n      .then((data) => {\r\n        setPictureUrl(data.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [asset.picture]);\r\n\r\n  const Exists = (subject) => {\r\n    const title = subject === 1 ? 'exists' : 'not-exists';\r\n    return title;\r\n  };\r\n\r\n  const closeWindow = () => {\r\n    setOpacity(0);\r\n    setTimeout(() => {\r\n      setOpenAssetCard((prev) => !prev);\r\n    }, 500);\r\n  };\r\n\r\n  return (\r\n    <div className=\"asset-full-card-background\" style={{ opacity: opacity }}>\r\n      <div className=\"asset-full-card\">\r\n        <div className=\"map\">\r\n          <Map\r\n            asset={asset}\r\n            currentLocation={currentLocation}\r\n            setCurrentLocation={setCurrentLocation}\r\n            assetLocation={assetLocation}\r\n            setAssetLocation={setAssetLocation}\r\n            setDistance={setDistance}\r\n          />\r\n        </div>\r\n        <div className=\"asset-full-card-content\">\r\n          <img className=\"asset-big-image\" src={pictureUrl} alt=\"asset\" />\r\n          <div className=\"asset-data\">\r\n            <div className=\"asset-text-details\">\r\n              <div className=\"asset-details\">{asset.description}</div>\r\n              <div className=\"asset-details\">\r\n                Hospitality: {asset.Hospitality}\r\n              </div>\r\n              <div className=\"asset-details\">Room type: {asset.room_type}</div>\r\n              <div className=\"asset-details\">\r\n                Number of people: {asset.number_of_peoples}\r\n              </div>\r\n              <div className=\"asset-details\">\r\n                Number of rooms: {asset.number_of_rooms}\r\n              </div>\r\n              <div className=\"asset-details\">{distance} from you</div>\r\n            </div>\r\n            <div className=\"accessories\">\r\n              <div className=\"asset-details\">\r\n                <i\r\n                  className={`fas fa-fan\r\n              ${Exists(asset.ac)} `}\r\n                />{' '}\r\n                AC\r\n              </div>\r\n              <div className=\"asset-details\">\r\n                <i\r\n                  className={`fa fa-wheelchair ${Exists(asset.accessibility)} `}\r\n                />{' '}\r\n                accessibility\r\n              </div>\r\n              <div className=\"asset-details\">\r\n                <i className={`fa fa-paw ${Exists(asset.animals)} `} /> Animals\r\n              </div>\r\n              <div className=\"asset-details\">\r\n                <i className={`fa fa-baby-carriage ${Exists(asset.babies)} `} />{' '}\r\n                Babies\r\n              </div>\r\n              <div className=\"asset-details\">\r\n                <i className={`fa fa-parking ${Exists(asset.parking)} `} />{' '}\r\n                Parking\r\n              </div>\r\n              <div className={`${Exists(asset.kosher)} `}>Kosher</div>\r\n              <div className={`${Exists(asset.shabbat)} `}>Shabbat</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <button className=\"close-btn\" onClick={() => closeWindow()}>\r\n          X\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AssetCard;\r\n","import axios from 'axios';\r\nimport { useState, useEffect } from 'react';\r\nimport SendRequest from './SendRequest';\r\nimport AssetCard from './AssetCard';\r\nimport '../../styles/assetCard.css';\r\n\r\nexport default function ShowAsset({ user, asset, startedAt, endedAt }) {\r\n  const [pictureUrl, setPictureUrl] = useState('');\r\n  const [openSendRequest, setOpenSendRequest] = useState(false);\r\n  const [openAssetCard, setOpenAssetCard] = useState(false);\r\n\r\n  //Show asset on home page\r\n  useEffect(() => {\r\n    axios\r\n      .get(`/api/picture/image/${asset.picture}`)\r\n      .then((data) => {\r\n        setPictureUrl(data.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [asset.picture]);\r\n\r\n  return (\r\n    <div className=\"asset\">\r\n      <img className=\"asset-image\" src={pictureUrl} alt=\"asset\" />\r\n      <div\r\n        className=\"asset-city\"\r\n        onClick={() => setOpenAssetCard((prev) => !prev)}\r\n      >\r\n        {asset.city}\r\n      </div>\r\n      <div className=\"card-footer\">\r\n        <button\r\n          className=\"like-btn\"\r\n          onClick={() => setOpenSendRequest((prev) => !prev)}\r\n        >\r\n          <i className=\"fa fa-bell\"></i> ring\r\n        </button>\r\n        <span className=\"separator\"></span>\r\n        <div className=\"asset-address-card\">{asset.address}</div>\r\n      </div>\r\n      {openSendRequest && (\r\n        <SendRequest\r\n          user={user}\r\n          asset={asset}\r\n          setOpenSendRequest={setOpenSendRequest}\r\n          startedAt={startedAt}\r\n          endedAt={endedAt}\r\n        />\r\n      )}\r\n      {openAssetCard && (\r\n        <AssetCard asset={asset} setOpenAssetCard={setOpenAssetCard} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport 'react-date-range/dist/styles.css';\r\nimport 'react-date-range/dist/theme/default.css';\r\nimport { DateRange } from 'react-date-range';\r\nimport { useState } from 'react';\r\nimport '../styles/renterHomepage.css';\r\n\r\nexport default function Search({\r\n  searchInput,\r\n  setSearchInput,\r\n  setError,\r\n  setAssets,\r\n  user,\r\n  setStartedAt,\r\n  setEndedAt,\r\n  startedAt,\r\n  endedAt,\r\n  setFilteredAssets,\r\n}) {\r\n  const [showCalendar, setShowCalendar] = useState(false);\r\n  const [count, setCount] = useState(0);\r\n  const [selectionRange, SetSelectionRange] = useState({\r\n    startDate: new Date(),\r\n    endDate: new Date(),\r\n    key: 'selection',\r\n  });\r\n\r\n  const searchByCity = () => {\r\n    if (user && !user.isOwner) {\r\n      if (!startedAt || !endedAt || !searchInput) {\r\n        return setError('Please fill all the fields');\r\n      }\r\n      let searchUrl;\r\n      searchInput\r\n        ? (searchUrl = `/api/asset?city=${searchInput}&startDate=${startedAt}&stopDate=${endedAt}`)\r\n        : (searchUrl = '/api/asset');\r\n      axios\r\n        .get(searchUrl)\r\n        .then((res) => {\r\n          setAssets(res.data);\r\n          setFilteredAssets(res.data);\r\n          res.data.length === 0 ? setError('No city found') : setError('');\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.message);\r\n          setError('Server problem please try again');\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleSelect = (i) => {\r\n    setStartedAt(i.selection.startDate);\r\n    setEndedAt(i.selection.endDate);\r\n    SetSelectionRange(i.selection);\r\n    if (count === 1) {\r\n      setShowCalendar((prev) => !prev);\r\n      return setCount(0);\r\n    }\r\n    setCount(count + 1);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <input\r\n        className=\"search-bar\"\r\n        type=\"search\"\r\n        placeholder=\"Search By City\"\r\n        value={searchInput}\r\n        onChange={(event) => setSearchInput(event.target.value)}\r\n      />\r\n      <div id=\"date-container\">\r\n        <div id=\"date-text\" onClick={() => setShowCalendar((prev) => !prev)}>\r\n          {startedAt\r\n            ? startedAt.toLocaleString().split(' ')[0].slice(0, -1)\r\n            : 'check-in'}{' '}\r\n          -{' '}\r\n          {endedAt\r\n            ? endedAt.toLocaleString().split(' ')[0].slice(0, -1)\r\n            : 'check-out'}\r\n        </div>\r\n      </div>\r\n      {showCalendar && (\r\n        <DateRange\r\n          className=\"calendar\"\r\n          editableDateInputs={true}\r\n          moveRangeOnFirstSelection={false}\r\n          onChange={(i) => handleSelect(i)}\r\n          ranges={[selectionRange]}\r\n          minDate={new Date()}\r\n        />\r\n      )}\r\n\r\n      <button className=\"search-btn\" onClick={() => searchByCity()}>\r\n        Search\r\n      </button>\r\n    </>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport React, { useState, useEffect } from 'react';\r\nimport ShowAsset from '../asset/ShowAsset';\r\nimport Search from '../Search';\r\nimport GoogleMapReact from 'google-map-react';\r\n\r\nconst GOOGLE_API_KEY = process.env.REACT_APP_GOOGLE_API_KEY;\r\nfunction RenterHomePage({ user }) {\r\n  const [assets, setAssets] = useState([]);\r\n  const [filteredAssets, setFilteredAssets] = useState([]);\r\n  const [error, setError] = useState('');\r\n  const [searchInput, setSearchInput] = useState('');\r\n  const [startedAt, setStartedAt] = useState();\r\n  const [endedAt, setEndedAt] = useState();\r\n  const [openFilters, setOpenFilters] = useState(false);\r\n  const [position, setPosition] = useState();\r\n  const [filterBy, setFilterBy] = useState([\r\n    { name: 'Ac', value: false },\r\n    { name: 'Accessibility', value: false },\r\n    { name: 'Animals', value: false },\r\n    { name: 'Babies', value: false },\r\n    { name: 'Kosher', value: false },\r\n    { name: 'Parking', value: false },\r\n    { name: 'Shabat', value: false },\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    //gets user location\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(showPosition);\r\n    } else {\r\n      alert('Sorry Geolocation is not supported by this browser.');\r\n    }\r\n    constLocError();\r\n  }, []);\r\n\r\n  const AnyReactComponent = () => (\r\n    <div>\r\n      <div className=\"current-pin-container\"></div>\r\n      <div className=\"current-pin\"></div>\r\n    </div>\r\n  );\r\n\r\n  const changeValue = (i) => {\r\n    const copyArr = [...filterBy];\r\n    copyArr[i].value = !filterBy[i].value;\r\n    setFilterBy(copyArr);\r\n  };\r\n\r\n  const filterOptions = () => {\r\n    const filters = filterBy.reduce((filtered, option) => {\r\n      if (option.value) {\r\n        filtered.push(option.name.toLowerCase());\r\n      }\r\n      return filtered;\r\n    }, []);\r\n    const filteredArr = assets.reduce((filtered, asset) => {\r\n      let isValid = true;\r\n      filters.forEach((filter) => {\r\n        if (asset[filter] === 0) {\r\n          isValid = false;\r\n        }\r\n      });\r\n      if (isValid) {\r\n        filtered.push(asset);\r\n      }\r\n      return filtered;\r\n    }, []);\r\n    setFilteredAssets(filteredArr);\r\n    setOpenFilters((prev) => !prev);\r\n    setError('');\r\n    if (filteredArr.length === 0) {\r\n      setError('no assets found');\r\n    }\r\n  };\r\n\r\n  const constLocError = () => {\r\n    if (navigator.permissions) {\r\n      navigator.permissions.query({ name: 'geolocation' }).then((res) => {\r\n        if (res.state === 'denied') {\r\n          alert(\r\n            'Enable location permissions for this website in your browser settings'\r\n          );\r\n        }\r\n      });\r\n    } else {\r\n      alert(\r\n        'Unable to access your location. You can continue by submitting location manually.'\r\n      );\r\n    }\r\n  };\r\n  const showPosition = (position) => {\r\n    setPosition({\r\n      lat: position.coords.latitude,\r\n      lng: position.coords.longitude,\r\n    });\r\n  };\r\n  const closeAssets = () => {\r\n    axios\r\n      .get(\r\n        `https://maps.googleapis.com/maps/api/geocode/json?latlng=${position.lat},${position.lng}&language=en&key=${GOOGLE_API_KEY}`\r\n      )\r\n      .then((data) =>\r\n        setSearchInput(data.data.results[0].address_components[2].long_name)\r\n      );\r\n  };\r\n  return (\r\n    <div>\r\n      {position && filteredAssets.length <= 0 && (\r\n        <div className=\"renter-map-container\">\r\n          <button\r\n            onClick={() => closeAssets()}\r\n            className=\"current-location-btn\"\r\n          >\r\n            current Location\r\n          </button>\r\n          <div className=\"renter-map\">\r\n            <GoogleMapReact\r\n              bootstrapURLKeys={{ key: GOOGLE_API_KEY }}\r\n              defaultCenter={{ lat: position.lat, lng: position.lng }}\r\n              defaultZoom={11}\r\n            >\r\n              <AnyReactComponent\r\n                lat={position.lat}\r\n                lng={position.lng}\r\n                text=\"My Marker\"\r\n              />\r\n            </GoogleMapReact>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div className=\"search-container\">\r\n        <div\r\n          id=\"search\"\r\n          style={{\r\n            gridTemplateRows: `repeat(${\r\n              filteredAssets.length > 0 ? '3' : '2'\r\n            }, 1fr)`,\r\n          }}\r\n        >\r\n          <Search\r\n            searchInput={searchInput}\r\n            setSearchInput={setSearchInput}\r\n            setError={setError}\r\n            setAssets={setAssets}\r\n            user={user}\r\n            assets={assets}\r\n            setFilteredAssets={setFilteredAssets}\r\n            setStartedAt={setStartedAt}\r\n            setEndedAt={setEndedAt}\r\n            startedAt={startedAt}\r\n            endedAt={endedAt}\r\n          />\r\n          {filteredAssets.length > 0 && (\r\n            <button\r\n              className=\"open-filters-btn\"\r\n              onClick={() => setOpenFilters((prev) => !prev)}\r\n            >\r\n              Filters\r\n            </button>\r\n          )}\r\n        </div>\r\n        {filteredAssets.length > 0 && (\r\n          <div\r\n            className=\"filter\"\r\n            style={{\r\n              maxHeight: openFilters ? '100vh' : '0vh',\r\n              visibility: openFilters ? 'visible' : 'hidden',\r\n            }}\r\n          >\r\n            <ul className=\"ks-cboxtags\">\r\n              {filterBy.map((option, i) => (\r\n                <li key={i} className=\"filter-option\">\r\n                  <input\r\n                    id={`checkbox-${i}`}\r\n                    defaultChecked={option.value}\r\n                    type=\"checkbox\"\r\n                    onChange={() => changeValue(i)}\r\n                  />\r\n                  <label className=\"label-for-check\" htmlFor={`checkbox-${i}`}>\r\n                    {option.name === 'Shabat' ? 'Shabbat' : option.name}\r\n                  </label>\r\n                </li>\r\n              ))}\r\n              <button className=\"filter-btn\" onClick={() => filterOptions()}>\r\n                Filter\r\n              </button>\r\n            </ul>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {error ? <div>{error}</div> : ''}\r\n      <div className=\"assets-container\">\r\n        {filteredAssets.map((asset, i) => (\r\n          <ShowAsset\r\n            key={i}\r\n            user={user}\r\n            asset={asset}\r\n            startedAt={startedAt}\r\n            endedAt={endedAt}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RenterHomePage;\r\n","import React from 'react';\r\n\r\nfunction PopUp({ openPopup }) {\r\n  return (\r\n    <div className=\"box\">\r\n      <div className=\"popup-container\">\r\n        <div className=\"header\">\r\n          <h1 className=\"story\"> Our Story</h1>\r\n        </div>\r\n        <div className=\"popup-content\">\r\n          <p className=\"popup-text\">\r\n            This application was established in 2021 after the Operation\r\n            Guardian of the Walls, by Omer Botbol, Shira Meirovitz and Noa\r\n            Shalom as part of a program for veterans that operated by Scale-Up\r\n            Velocity in cooperation with the IDF and the cyber system.\r\n          </p>\r\n          <br></br>\r\n          <p className=\"popup-text\">\r\n            The purpose of the application is to reflect the knowledge acquired\r\n            after five months of training and has one vision: to create and\r\n            expand the circles of volunteering and giving in Israeli society,\r\n            with an emphasis on free accommodation. In order to promote this\r\n            vision, we have developed an application that makes accessible and\r\n            quick search for accommodation, as well as advertising accommodation\r\n            at the click of a button.\r\n          </p>\r\n          <br></br>\r\n          <p className=\"popup-text\">\r\n            We believe that volunteering can and should become public domain,\r\n            and that the way there is through quality technology.\r\n          </p>\r\n        </div>\r\n        <button className=\"close-popup-btn\" onClick={() => openPopup(false)}>\r\n          X\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopUp;\r\n","import '../styles/homepage.css';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ClipLoader from 'react-spinners/ClipLoader';\r\nimport OwnerHomePage from './owner/OwnerHomePage';\r\nimport RenterHomePage from './renter/RenterHomePage';\r\nimport PopUp from './PopUp';\r\n\r\nfunction HomePage({ user }) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [popup, openPopup] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n    }, 1000);\r\n  }, []);\r\n\r\n  return (\r\n    <div id=\"homepage\">\r\n      {loading ? (\r\n        <div className=\"loader\">\r\n          <ClipLoader color={'#00887a'} loading={loading} size={150} />\r\n        </div>\r\n      ) : (\r\n        <div\r\n          className={!user ? 'homepage-container' : 'homepage-user-container'}\r\n        >\r\n          {user ? (\r\n            <>\r\n              {user.isOwner ? (\r\n                <OwnerHomePage user={user} />\r\n              ) : (\r\n                <RenterHomePage user={user} />\r\n              )}\r\n            </>\r\n          ) : (\r\n            <>\r\n              <div id=\"welcome\">welcome to</div>\r\n              <h1 id=\"homepage-header\">Bedder</h1>\r\n              <div id=\"homepage-btn\">\r\n                <Link className=\"link\" to=\"/login\">\r\n                  login\r\n                </Link>\r\n                <Link className=\"link\" to=\"/register\">\r\n                  Register\r\n                </Link>\r\n              </div>\r\n              <button className=\"about\" onClick={() => openPopup(true)}>\r\n                ABOUT US\r\n              </button>\r\n              {popup && <PopUp openPopup={openPopup} />}\r\n            </>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n","import React from 'react';\r\nimport '../styles/login.css';\r\nimport { useState } from 'react';\r\nimport { createCookie } from '../utils/cookies';\r\nimport axios from 'axios';\r\nimport { Redirect } from 'react-router-dom';\r\nfunction Login({ user, setUser,postion }) {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [userDetails, setUserDetails] = useState([]);\r\n  const [isOwner, setIsOwner] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [chooseCustomerType, setChooseCustomerType] = useState(false);\r\n  const [customerTypeWindow, setCustomerTypeWindow] = useState(false);\r\n  const [opacity, setOpacity] = useState(1);\r\n\r\n  const login = async () => {\r\n    const user = {\r\n      email: email,\r\n      password: password,\r\n    };\r\n    try {\r\n      const findUser = await axios.post('/api/login', user);\r\n      if (findUser.data.length === 1) {\r\n        const userData = findUser.data[0];\r\n        createCookie('accessToken', userData.accessToken, 900000);\r\n        createCookie('refreshToken', userData.refreshToken);\r\n        console.log('success logging in');\r\n        const userToSave = {\r\n          email: userData.email,\r\n          isOwner: userData.isOwner,\r\n          id: userData.id,\r\n        };\r\n        setUser(userToSave);\r\n      } else {\r\n        setUserDetails(findUser.data);\r\n        setCustomerTypeWindow(true);\r\n      }\r\n    } catch (error) {\r\n      console.log('error invalid user');\r\n      setMessage('User name, password or customer type are incorrect');\r\n    }\r\n  };\r\n\r\n  const handleNext = () => {\r\n    if (chooseCustomerType) {\r\n      const userToSet = isOwner ? userDetails[0] : userDetails[1];\r\n      createCookie('accessToken', userToSet.accessToken, 900000);\r\n      createCookie('refreshToken', userToSet.refreshToken);\r\n      setUser({\r\n        email: userToSet.email,\r\n        isOwner: userToSet.isOwner,\r\n        id: userToSet.id,\r\n      });\r\n    } else {\r\n      setOpacity(0);\r\n      setTimeout(() => {\r\n        setCustomerTypeWindow(false);\r\n        setOpacity(1);\r\n      }, 400);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!user ? (\r\n        <div className=\"container\">\r\n          <div className=\"container_content\">\r\n            <div className=\"container_content_inner\">\r\n              <div className=\"title\">\r\n                <h1 className=\"headline\">LOGIN</h1>\r\n              </div>\r\n              <div className=\"par\">\r\n                <input\r\n                  className=\"loginAdd text\"\r\n                  type=\"email\"\r\n                  placeholder=\"Enter email\"\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  required\r\n                ></input>\r\n                <br />\r\n                <input\r\n                  className=\"loginAdd text\"\r\n                  type=\"password\"\r\n                  placeholder=\"Enter password\"\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  required\r\n                ></input>\r\n                <div className=\"btns\">\r\n                  <button\r\n                    onClick={() => login()}\r\n                    className=\"btns_more\"\r\n                    variant=\"contained\"\r\n                  >\r\n                    LOGIN\r\n                  </button>\r\n                </div>\r\n                {customerTypeWindow && (\r\n                  <div\r\n                    className=\"labels-container\"\r\n                    style={{ opacity: opacity }}\r\n                  >\r\n                    <div className=\"login-customer-type\">\r\n                      <div className=\"labelName login-labels\">\r\n                        <div className=\"label\">Host</div>\r\n                        <input\r\n                          className=\"option-input radio\"\r\n                          type=\"radio\"\r\n                          name=\"customer\"\r\n                          value={true}\r\n                          onChange={(e) => {\r\n                            setIsOwner(e.target.value === 'true');\r\n                            setChooseCustomerType(true);\r\n                          }}\r\n                        />\r\n                        <div className=\"label\">Guest</div>\r\n                        <input\r\n                          className=\"option-input radio\"\r\n                          type=\"radio\"\r\n                          name=\"customer\"\r\n                          value={false}\r\n                          onChange={(e) => {\r\n                            setIsOwner(e.target.value === 'true');\r\n                            setChooseCustomerType(true);\r\n                          }}\r\n                        />\r\n                      </div>\r\n                      <button className=\"next-btn\" onClick={() => handleNext()}>\r\n                        next\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                <div>{message}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <Redirect to=\"/\" />\r\n      )}\r\n      <div className=\"overlay\"></div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport '../styles/register.css';\r\n\r\nfunction Register({ user }) {\r\n  const [type, setType] = useState('');\r\n  const [temp, setTemp] = useState('');\r\n\r\n  return (\r\n    <>\r\n      {!user ? (\r\n        <div id=\"register-container\">\r\n          <h1 id=\"register-header\">Register as</h1>\r\n          <div id=\"register-options\">\r\n            <div className=\"register-label\">\r\n              <div className=\"loginAdd label\">Host</div>{' '}\r\n              <input\r\n                className=\"loginAdd option-input radio\"\r\n                type=\"radio\"\r\n                name=\"customer\"\r\n                onClick={() => setTemp('Owner')}\r\n              />\r\n            </div>\r\n            <div className=\"register-label\">\r\n              <div className=\"loginAdd label\">Guest</div>{' '}\r\n              <input\r\n                className=\"loginAdd option-input radio\"\r\n                type=\"radio\"\r\n                name=\"customer\"\r\n                onClick={() => setTemp('Renter')}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"next-btn\"\r\n            onClick={() => {\r\n              setType(temp);\r\n            }}\r\n          >\r\n            Next\r\n          </div>\r\n          {type === 'Owner' && <Redirect to=\"/ownerRegister\" />}\r\n          {type === 'Renter' && <Redirect to=\"/renterRegister\" />}\r\n        </div>\r\n      ) : (\r\n        <Redirect to=\"/\" />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React from \"react\";\r\n\r\nfunction NotFound() {\r\n  return (\r\n    <div>\r\n      <h1>Not Found</h1>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NotFound;\r\n","import axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport '../../styles/renterRegister.css';\r\nimport { deleteHttp, postHttp } from '../../utils/httpRequests';\r\n\r\nfunction RenterRegister({ user }) {\r\n  const [firstName, setFirstName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [confirmPasswordStatus, setConfirmPasswordStatus] = useState(false);\r\n  const [purpose, setPurpose] = useState('');\r\n  const [image, setImage] = useState('');\r\n  const [phoneNumber, setPhoneNumber] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [redirect, setRedirect] = useState(false);\r\n\r\n  const handleClick = async () => {\r\n    if (\r\n      !firstName ||\r\n      !lastName ||\r\n      !email ||\r\n      !password ||\r\n      !purpose ||\r\n      !image ||\r\n      !phoneNumber\r\n    ) {\r\n      setMessage('Please fill all the fields');\r\n    } else if (confirmPasswordStatus) {\r\n      const imageInForm = new FormData();\r\n      imageInForm.append('file', image);\r\n      const imageKey = await postHttp('/api/picture/upload', imageInForm);\r\n      const dataToSend = {\r\n        first_name: firstName,\r\n        last_name: lastName,\r\n        email,\r\n        password,\r\n        purpose,\r\n        picture: imageKey.data,\r\n        phone_number: phoneNumber,\r\n      };\r\n      axios\r\n        .post('/api/renter/create', dataToSend)\r\n        .then(() => {\r\n          setRedirect(true);\r\n        })\r\n        .catch(async (err) => {\r\n          if (err.message.slice(-3) === '401') {\r\n            setMessage('Invalid password or email');\r\n          } else if (err.message.slice(-3) === '409') {\r\n            setMessage('Email already exists');\r\n          } else {\r\n            setMessage('Problem, please try again later');\r\n          }\r\n          await deleteHttp(`/api/picture/image/${user.id}/${imageKey.data}`);\r\n        });\r\n    } else {\r\n      setMessage(\"Password doesn't match\");\r\n    }\r\n  };\r\n\r\n  const changeConfirmPassword = (confirmPasswordValue) => {\r\n    setConfirmPassword(confirmPasswordValue);\r\n    setConfirmPasswordStatus(confirmPasswordValue === password ? true : false);\r\n  };\r\n\r\n  return (\r\n    <div id=\"renter-register-page\">\r\n      {!user ? (\r\n        <div id=\"renter-register-container\">\r\n          <h1 id=\"renter-register-header\">Register</h1>\r\n          <div className=\"form\">\r\n            <div className=\"form-field\">\r\n              <label className=\"register-label\">First Name</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"register-text\"\r\n                onChange={(e) => setFirstName(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"register-label\">Last Name</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"register-text\"\r\n                onChange={(e) => setLastName(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"register-label\">Email</label>\r\n              <input\r\n                type=\"email\"\r\n                className=\"register-text\"\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"register-label\">Password</label>\r\n              <input\r\n                type=\"password\"\r\n                className=\"register-text\"\r\n                onChange={(e) => setPassword(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"register-label\">Confirm password</label>\r\n              <div className=\"form-field confirm-password-container\">\r\n                {confirmPassword && (\r\n                  <i\r\n                    className={`fa fa-${\r\n                      confirmPasswordStatus ? 'check' : 'times'\r\n                    }-circle-o register-symbol`}\r\n                    style={{\r\n                      color: confirmPasswordStatus ? '#00887a' : '#e2144d',\r\n                    }}\r\n                    aria-hidden=\"true\"\r\n                  />\r\n                )}\r\n                <input\r\n                  type=\"password\"\r\n                  className=\"confirm-password\"\r\n                  onChange={(e) => changeConfirmPassword(e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"register-label\">Picture</label>\r\n              <div className=\"file-wrapper\">\r\n                <label className=\"file-name\">{image.name}</label>\r\n                <span> </span>\r\n                <label className=\"file-label\">upload</label>\r\n                <input\r\n                  className=\"input-file\"\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  onChange={(e) => setImage(e.target.files[0])}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"register-label\">Phone Number</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"register-text\"\r\n                onChange={(e) => setPhoneNumber(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"register-label\">Purpose</label>\r\n              <textarea\r\n                rows=\"5\"\r\n                cols=\"10\"\r\n                className=\"register-purpose\"\r\n                onChange={(e) => setPurpose(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"register-btn\" onClick={() => handleClick()}>\r\n            Register\r\n          </div>\r\n          {message && <div className=\"error\">{message}</div>}\r\n          {redirect && <Redirect to=\"/login\" />}\r\n        </div>\r\n      ) : (\r\n        <Redirect to=\"/\" />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RenterRegister;\r\n","import axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport '../../styles/renterRegister.css';\r\nimport { deleteHttp, postHttp } from '../../utils/httpRequests';\r\n\r\nfunction OwnerRegister({ user }) {\r\n  const [firstName, setFirstName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [confirmPasswordStatus, setConfirmPasswordStatus] = useState(false);\r\n  const [phoneNumber, setPhoneNumber] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [image, setImage] = useState('');\r\n\r\n  const handleClick = async () => {\r\n    if (\r\n      !firstName ||\r\n      !lastName ||\r\n      !email ||\r\n      !password ||\r\n      !image ||\r\n      !phoneNumber\r\n    ) {\r\n      setMessage('Please fill all the fields');\r\n    } else if (confirmPasswordStatus) {\r\n      const imageInForm = new FormData();\r\n      imageInForm.append('file', image);\r\n      const imageKey = await postHttp('/api/picture/upload', imageInForm);\r\n      const dataToSend = {\r\n        first_name: firstName,\r\n        last_name: lastName,\r\n        email,\r\n        password,\r\n        picture: imageKey.data,\r\n        phone_number: phoneNumber,\r\n      };\r\n      axios\r\n        .post('/api/owner/create', dataToSend)\r\n        .then(() => {\r\n          setRedirect(true);\r\n        })\r\n        .catch(async (err) => {\r\n          if (err.message.slice(-3) === '401') {\r\n            setMessage('Invalid password or email');\r\n          } else if (err.message.slice(-3) === '409') {\r\n            setMessage('Email already exists');\r\n          } else {\r\n            setMessage('Problem, please try again later');\r\n          }\r\n          await deleteHttp(`/api/picture/image/${user.id}/${imageKey.data}`);\r\n        });\r\n    } else {\r\n      setMessage(\"Password doesn't match\");\r\n    }\r\n  };\r\n\r\n  const changeConfirmPassword = (confirmPasswordValue) => {\r\n    setConfirmPassword(confirmPasswordValue);\r\n    setConfirmPasswordStatus(confirmPasswordValue === password ? true : false);\r\n  };\r\n\r\n  return (\r\n    <div id=\"renter-register-page\">\r\n      {!user ? (\r\n        <div id=\"renter-register-container\">\r\n          <h1 id=\"renter-register-header\">Register</h1>\r\n          <div className=\"form\">\r\n            <div className=\"form-field\">\r\n              <label className=\"register-label\">First name</label>\r\n              <input\r\n                className=\"register-text\"\r\n                onChange={(e) => setFirstName(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"register-label\">Last name</label>\r\n              <input\r\n                className=\"register-text\"\r\n                onChange={(e) => setLastName(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"register-label\">Email</label>\r\n              <input\r\n                className=\"register-text\"\r\n                type=\"email\"\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"register-label\">Password</label>\r\n              <input\r\n                className=\"register-text\"\r\n                type=\"password\"\r\n                onChange={(e) => setPassword(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"register-label\">Confirm password</label>\r\n              <div className=\"form-field confirm-password-container\">\r\n                {confirmPassword && (\r\n                  <i\r\n                    className={`fa fa-${\r\n                      confirmPasswordStatus ? 'check' : 'times'\r\n                    }-circle-o register-symbol`}\r\n                    style={{\r\n                      color: confirmPasswordStatus ? '#00887a' : '#e2144d',\r\n                    }}\r\n                    aria-hidden=\"true\"\r\n                  />\r\n                )}\r\n                <input\r\n                  type=\"password\"\r\n                  className=\"confirm-password\"\r\n                  onChange={(e) => changeConfirmPassword(e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"register-label\">Picture</label>\r\n              <div className=\"file-wrapper\">\r\n                <label className=\"file-name\">{image.name}</label>\r\n                <span> </span>\r\n                <label className=\"file-label\">upload</label>\r\n                <input\r\n                  className=\"input-file\"\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  onChange={(e) => setImage(e.target.files[0])}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"register-label\">Phone number</label>\r\n              <input\r\n                className=\"register-text\"\r\n                onChange={(e) => setPhoneNumber(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"register-btn\" onClick={() => handleClick()}>\r\n            Register\r\n          </div>\r\n          {message && <div className=\"error\">{message}</div>}\r\n          {redirect && <Redirect to=\"/login\" />}\r\n        </div>\r\n      ) : (\r\n        <Redirect to=\"/\" />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OwnerRegister;\r\n","import axios from 'axios';\r\nimport { useState, useEffect } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport ClipLoader from 'react-spinners/ClipLoader';\r\nimport '../styles/profile.css';\r\n\r\nexport default function Profile({ user }) {\r\n  const [userDetails, setUserDetails] = useState({});\r\n  const [pictureUrl, setPictureUrl] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n    }, 1000);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      if (user) {\r\n        const route = user.isOwner ? 'owner' : 'renter';\r\n        const userData = await axios.get(`/api/${route}/${user.id}`);\r\n        const userPicture = await axios.get(\r\n          `/api/picture/image/${userData.data.picture}`\r\n        );\r\n        setUserDetails(userData.data);\r\n        setPictureUrl(userPicture.data);\r\n      }\r\n    }\r\n    fetchData();\r\n  }, [user]);\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <div className=\"loader\">\r\n          <ClipLoader color={'#00887a'} loading={loading} size={150} />\r\n        </div>\r\n      ) : (\r\n        <div className=\"profile-container\">\r\n          {user ? (\r\n            <div className={user.isOwner ? 'profile-owner' : 'profile-renter'}>\r\n              <img src={pictureUrl} alt=\"profile\" className=\"profile-picture\" />\r\n              <h1 className=\"profile-name\">\r\n                {userDetails.first_name} {userDetails.last_name}\r\n              </h1>\r\n              <p>{userDetails.email}</p>\r\n              <p>{userDetails.phone_number}</p>\r\n              <div></div>\r\n            </div>\r\n          ) : (\r\n            <Redirect to=\"/\" />\r\n          )}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { eraseCookie } from '../utils/cookies';\r\nimport axios from 'axios';\r\nimport '../styles/navbar.css';\r\n\r\nfunction NavBar({ user, setUser }) {\r\n  const [userDetails, setUserDetails] = useState({});\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      const route = user.isOwner ? 'owner' : 'renter';\r\n      axios\r\n        .get(`/api/${route}/${user.id}`)\r\n        .then((data) => setUserDetails(data.data))\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }, [user]);\r\n\r\n  const logout = () => {\r\n    eraseCookie('accessToken');\r\n    eraseCookie('refreshToken');\r\n    setUser('');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div id=\"top-navbar\">\r\n        <div>\r\n          <i\r\n            className={`fa fa-user-circle${user.isOwner ? '-o' : ''}`}\r\n            aria-hidden=\"true\"\r\n          ></i>\r\n          <span> </span>\r\n          <span id=\"user-name\">\r\n            {userDetails.first_name} {userDetails.last_name}\r\n          </span>\r\n        </div>\r\n        <li className=\"navbar-title\">Bedder</li>\r\n      </div>\r\n      <div className=\"nav\">\r\n        <input type=\"checkbox\" />\r\n        <span></span>\r\n        <span></span>\r\n        <div className=\"menu\">\r\n          <li>\r\n            <Link className=\"option-link\" to=\"/\">\r\n              Home\r\n            </Link>\r\n          </li>\r\n          <li>\r\n            <Link className=\"option-link\" to=\"/profile\">\r\n              Profile\r\n            </Link>\r\n          </li>\r\n          <li className=\"option-link\">\r\n            <Link className=\"option-link\" to=\"/orders\">\r\n              My orders\r\n            </Link>\r\n          </li>\r\n          <li\r\n            className=\"option-link\"\r\n            onClick={() => {\r\n              logout();\r\n            }}\r\n          >\r\n            logout\r\n          </li>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NavBar;\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { deleteHttp } from '../utils/httpRequests';\r\nimport '../styles/myOrders.css';\r\n\r\nfunction OrderDisplay({ user, order, orders, setOrders }) {\r\n  const [userDetails, setUserDetails] = useState();\r\n  const [assetDetails, setAssetDetails] = useState();\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      const route = user.isOwner\r\n        ? `renter/${order.renter_id}`\r\n        : `owner/${order.owner_id}`;\r\n      Promise.all([\r\n        axios.get(`/api/${route}`),\r\n        axios.get(`/api/asset/${order.asset_id}`),\r\n      ]).then((data) => {\r\n        setUserDetails(data[0].data);\r\n        setAssetDetails(data[1].data);\r\n      });\r\n    }\r\n  }, [user, order]);\r\n\r\n  const deleteOrder = () => {\r\n    const dataToSend = {\r\n      ownerId: user.id,\r\n      asset_id: assetDetails.id,\r\n      startedAt: order.started_at,\r\n      endedAt: order.ended_at,\r\n    };\r\n    Promise.all([\r\n      deleteHttp('/api/transaction', { id: order.id }),\r\n      deleteHttp('/api/asset/deleteUnavailableDates', dataToSend),\r\n    ])\r\n      .then(() => {\r\n        const ordersCopy = [...orders];\r\n        const index = ordersCopy.findIndex((option) => {\r\n          return option.id === order.id;\r\n        });\r\n        ordersCopy.splice(index, 1);\r\n        setOrders(ordersCopy);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <div className=\"alert\">\r\n      {userDetails && assetDetails && (\r\n        <>\r\n          {user.isOwner ? (\r\n            <div className=\"owner-alert\">\r\n              <div className=\"alert-line\">\r\n                Guest Name:{' '}\r\n                <span className=\"alert-data\">\r\n                  {userDetails.first_name} {userDetails.last_name}\r\n                </span>\r\n              </div>\r\n              <div className=\"alert-line\">\r\n                Address:{' '}\r\n                <span className=\"alert-data\">\r\n                  {assetDetails.address}, {assetDetails.city}\r\n                </span>\r\n              </div>\r\n              <div className=\"alert-line\">\r\n                Dates:{' '}\r\n                <span className=\"alert-data\">\r\n                  {new Date(order.started_at).toLocaleDateString()} -\r\n                  {new Date(order.ended_at).toLocaleDateString()}\r\n                </span>\r\n              </div>\r\n              <div className={`status ${order.status}`}>\r\n                status: {order.status}\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"renter-alert\">\r\n              <div className=\"alert-line\">\r\n                Address:{' '}\r\n                <span className=\"alert-data\">\r\n                  {assetDetails.address}, {assetDetails.city}\r\n                </span>\r\n              </div>\r\n              <div className=\"alert-line\">\r\n                Dates:{' '}\r\n                <span className=\"alert-data\">\r\n                  {new Date(order.started_at).toLocaleDateString()} -\r\n                  {new Date(order.ended_at).toLocaleDateString()}\r\n                </span>\r\n              </div>\r\n              {order.status !== 'pending' && (\r\n                <div className=\"alert-line\">\r\n                  Contact Man:{' '}\r\n                  <div className=\"alert-data\">\r\n                    <a\r\n                      href={`https://wa.me/${userDetails.phone_number}`}\r\n                      className=\"whatsapp-icon\"\r\n                    >\r\n                      <i className=\"fab fa-whatsapp\"></i>\r\n                      {userDetails.phone_number}\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              <div className={`status ${order.status}`}>\r\n                status: {order.status}\r\n              </div>\r\n            </div>\r\n          )}\r\n          <button className=\"delete-order-btn\" onClick={() => deleteOrder()}>\r\n            Cancel\r\n          </button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OrderDisplay;\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport OrderDisplay from './OrderDisplay';\r\nimport '../styles/myOrders.css';\r\n\r\nfunction MyOrders({ user }) {\r\n  const [orders, setOrders] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      const searchBy = user.isOwner ? 'owner_id' : 'renter_id';\r\n      axios\r\n        .get(`/api/transaction/user/all?searchBy=${searchBy}&value=${user.id}`)\r\n        .then((data) => {\r\n          const findOrders = data.data.reduce((filtered, option) => {\r\n            if (option.owner_approvement && option.booked) {\r\n              option.status = 'booked';\r\n            }\r\n            if (option.owner_approvement && !option.booked) {\r\n              option.status = 'open';\r\n            }\r\n            if (!option.owner_approvement && !option.booked) {\r\n              option.status = 'pending';\r\n            }\r\n            filtered.push(option);\r\n            return filtered;\r\n          }, []);\r\n          setOrders(sortByStatus(findOrders));\r\n        });\r\n    }\r\n  }, [user]);\r\n\r\n  const sortByStatus = (arr) => {\r\n    const sortOrder = { pending: 0, open: 1, booked: 2 };\r\n    arr.sort((a, b) => {\r\n      return sortOrder[a.status] - sortOrder[b.status];\r\n    });\r\n    return arr;\r\n  };\r\n\r\n  return (\r\n    <div id=\"my-orders\">\r\n      {user ? (\r\n        <div id=\"my-orders-container\">\r\n          <h1 id=\"my-orders-header\">My Orders</h1>\r\n          <div id=\"all-orders\">\r\n            {orders.length > 0 ? (\r\n              orders.map((order, i) => {\r\n                return (\r\n                  <OrderDisplay\r\n                    user={user}\r\n                    order={order}\r\n                    orders={orders}\r\n                    setOrders={setOrders}\r\n                    key={i}\r\n                  />\r\n                );\r\n              })\r\n            ) : (\r\n              <p id=\"no-orders-message\">no orders</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <Redirect to=\"/\" />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyOrders;\r\n","import './App.css';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport AddAsset from './components/asset/AddAsset';\r\nimport HomePage from './components/HomePage';\r\nimport Login from './components/Login';\r\nimport Register from './components/Register';\r\nimport NotFound from './components/NotFound';\r\nimport RenterRegister from './components/renter/RenterRegister';\r\nimport OwnerRegister from './components/owner/OwnerRegister';\r\nimport Profile from './components/Profile';\r\nimport NavBar from './components/NavBar';\r\nimport { useEffect, useState } from 'react';\r\nimport { intercept } from './utils/networkWrapper';\r\nimport { getHttp } from './utils/httpRequests';\r\nimport MyOrders from './components/MyOrders';\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    intercept();\r\n  });\r\n\r\n  useEffect(() => {\r\n    getHttp('/api/data', 'accessToken')\r\n      .then((res) => {\r\n        const userToSave = {\r\n          email: res.data.email,\r\n          isOwner: res.data.isOwner,\r\n          id: res.data.id,\r\n        };\r\n        setUser(userToSave);\r\n      })\r\n      .catch((err) => {\r\n        if (!err.message.slice(-3) === '401') {\r\n          return console.log(err.message);\r\n        }\r\n      });\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n    }, 1000);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        {user && !loading ? <NavBar user={user} setUser={setUser} /> : ''}\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <HomePage user={user} />\r\n          </Route>\r\n          <Route exact path=\"/login\">\r\n            <Login user={user} setUser={setUser} />\r\n          </Route>\r\n          <Route exact path=\"/register\">\r\n            <Register user={user} />\r\n          </Route>\r\n          <Route exact path=\"/renterRegister\">\r\n            <RenterRegister user={user} />\r\n          </Route>\r\n          <Route exact path=\"/ownerRegister\">\r\n            <OwnerRegister user={user} />\r\n          </Route>\r\n          <Route exact path=\"/profile\">\r\n            <Profile user={user} />\r\n          </Route>\r\n          <Route exact path=\"/addAsset\">\r\n            <AddAsset user={user} />\r\n          </Route>\r\n          <Route exact path=\"/orders\">\r\n            <MyOrders user={user} />\r\n          </Route>\r\n          <Route component={NotFound} />\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import axios from 'axios';\r\nimport { readCookie, createCookie, eraseCookie } from './cookies';\r\n\r\nconst intercept = () => {\r\n  axios.interceptors.response.use(\r\n    (response) => response,\r\n    (err) => {\r\n      const refreshToken = readCookie('refreshToken');\r\n      if (err.message.slice(-3) === '401' && refreshToken) {\r\n        const accessToken = readCookie('accessToken');\r\n        if (!accessToken) {\r\n          return axios\r\n            .post('/api/refreshToken', {\r\n              refreshToken: refreshToken,\r\n            })\r\n            .then((data) => {\r\n              if (data.data.accessToken) {\r\n                createCookie('accessToken', data.data.accessToken, 900000);\r\n                err.config.headers['authorization'] =\r\n                  'Bearer ' + data.data.accessToken;\r\n                return axios.request(err.config);\r\n              }\r\n              eraseCookie('refreshToken');\r\n            });\r\n        }\r\n      }\r\n      return Promise.reject(err);\r\n    }\r\n  );\r\n};\r\n\r\nexport { intercept };\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[3],{152:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));var s=a(2),c=a(1),i=a(34),n=(a(52),a(53),a(28)),l=a(13),d=a(7),o=a.n(d),r=a(0);var j=function(e){var t=e.asset,a=e.setHideDates,d=e.user,j=Object(c.useState)([]),b=Object(s.a)(j,2),u=b[0],m=b[1],O=Object(c.useState)(""),f=Object(s.a)(O,2),h=f[0],x=f[1],v=Object(c.useState)(""),N=Object(s.a)(v,2),p=N[0],D=N[1],g=Object(c.useState)(""),_=Object(s.a)(g,2),w=_[0],S=_[1],y=Object(c.useState)(1),k=Object(s.a)(y,2),A=k[0],C=k[1],H=Object(c.useState)({startDate:new Date,endDate:new Date,key:"selection"}),R=Object(s.a)(H,2),E=R[0],F=R[1];Object(c.useEffect)((function(){o.a.get("/api/asset/unavailableDates/".concat(t.id)).then((function(e){var t=e.data.map((function(e){return new Date(e.date)}));m(t)})).catch((function(e){console.log(e)}))}),[t.id]);var I=function(){C(0),setTimeout((function(){a((function(e){return!e}))}),500)};return Object(r.jsx)("div",{id:"demo-modal",className:"modal",style:{opacity:A},children:Object(r.jsxs)("div",{className:"modal__content",children:[Object(r.jsx)(n.DateRange,{editableDateInputs:!0,moveRangeOnFirstSelection:!1,onChange:function(e){return function(e){D(e.selection.startDate),S(e.selection.endDate),F(e.selection)}(e)},ranges:[E],minDate:new Date(t.started_at),maxDate:new Date(t.ended_at),disabledDates:u}),Object(r.jsx)("button",{className:"modal__send add-button",onClick:function(){!function(){if(p&&w){var e={ownerId:d.id,asset_id:t.id,startedAt:p,endedAt:w};Object(l.c)("/api/asset/addUnavailableDates",e).then((function(e){var t=Object(i.a)(u);t.push(e.data),m(t)})).catch((function(e){return console.log(e)})),x(""),I()}else x("Fill all fields")}()},children:"+"}),Object(r.jsx)("button",{onClick:function(){return I()},className:"modal__close",children:"X"}),h&&Object(r.jsx)("p",{children:h})]})})};function b(e){var t=e.asset,a=e.user,i=Object(c.useState)(!0),n=Object(s.a)(i,2),l=n[0],d=n[1],b=Object(c.useState)(""),u=Object(s.a)(b,2),m=u[0],O=u[1];Object(c.useEffect)((function(){o.a.get("/api/picture/image/".concat(t.picture)).then((function(e){O(e.data)})).catch((function(e){console.log(e)}))}),[t.picture]);var f=function(e){return 1===e?"exists":"not-exists"};return Object(r.jsxs)("div",{className:"asset-container",children:[Object(r.jsxs)("div",{className:"asset-top",children:[Object(r.jsx)("img",{className:"asset-picture",src:m,alt:"asset"}),Object(r.jsxs)("div",{className:"asset-address",children:[t.address,", ",t.city]})]}),Object(r.jsxs)("div",{className:"asset-middle",children:[Object(r.jsxs)("div",{className:"asset-details-left",children:[Object(r.jsx)("div",{className:"detail",children:t.description}),Object(r.jsxs)("div",{className:"detail",children:["Hospitality: ",t.Hospitality]}),Object(r.jsxs)("div",{className:"detail",children:["Room type: ",t.room_type]}),Object(r.jsxs)("div",{className:"detail",children:["Number of people: ",t.number_of_peoples]}),Object(r.jsxs)("div",{className:"detail",children:["Number of rooms: ",t.number_of_rooms]}),Object(r.jsxs)("div",{className:"detail",children:[new Date(t.started_at).toLocaleDateString()," -"," ",new Date(t.ended_at).toLocaleDateString()]})]}),Object(r.jsxs)("div",{className:"asset-details-right",children:[Object(r.jsxs)("div",{className:"detail",children:[Object(r.jsx)("i",{className:"fas fa-fan\n              ".concat(f(t.ac)," ")})," ","AC"]}),Object(r.jsxs)("div",{className:"detail",children:[Object(r.jsx)("i",{className:"fa fa-wheelchair ".concat(f(t.accessibility)," ")})," ","accessibility"]}),Object(r.jsxs)("div",{className:"detail",children:[Object(r.jsx)("i",{className:"fa fa-paw ".concat(f(t.animals)," ")})," Animals"]}),Object(r.jsxs)("div",{className:"detail",children:[Object(r.jsx)("i",{className:"fa fa-baby-carriage ".concat(f(t.babies)," ")})," ","Babies"]}),Object(r.jsxs)("div",{className:"detail",children:[Object(r.jsx)("i",{className:"fa fa-parking ".concat(f(t.parking)," ")})," Parking"]}),Object(r.jsx)("div",{className:"".concat(f(t.kosher)," detail"),children:"Kosher"}),Object(r.jsx)("div",{className:"".concat(f(t.shabbat)," detail"),children:"Shabbat"})]})]}),Object(r.jsx)("button",{className:"add-unavailable-dates-button",onClick:function(){d((function(e){return!e}))},children:"Add unavailable dates"}),!l&&Object(r.jsx)(j,{user:a,asset:t,setHideDates:d})]})}}}]);
//# sourceMappingURL=3.db85d71d.chunk.js.map